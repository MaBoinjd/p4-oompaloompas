{% extends "layouts/base.html" %}
{% block content %}

<h1>Binary Lab</h1>
<p>Turn the switches on and off in order to create new colors!</p>

<br />

<div class="row">
    <button class="offset-sm-1 col-sm-1" id="r1" onclick="toggleSwitch('r1')">0</button>
    <button class="col-sm-1" id="r2" onclick="toggleSwitch('r2')">0</button>
    <button class="col-sm-1" id="r3" onclick="toggleSwitch('r3')">0</button>
    <button class="col-sm-1" id="r4" onclick="toggleSwitch('r4')">0</button>
    <button class="col-sm-1" id="r5" onclick="toggleSwitch('r5')">0</button>
    <button class="col-sm-1" id="r6" onclick="toggleSwitch('r6')">0</button>
    <button class="col-sm-1" id="r7" onclick="toggleSwitch('r7')">0</button>
    <button class="col-sm-1" id="r8" onclick="toggleSwitch('r8')">0</button>

    <div class="col-sm-3">
        <p id="r">Decimal value: 0</p>
    </div>
</div>

<br />

<div class="row">
    <button class="offset-sm-1 col-sm-1" id="g1" onclick="toggleSwitch('g1')">0</button>
    <button class="col-sm-1" id="g2" onclick="toggleSwitch('g2')">0</button>
    <button class="col-sm-1" id="g3" onclick="toggleSwitch('g3')">0</button>
    <button class="col-sm-1" id="g4" onclick="toggleSwitch('g4')">0</button>
    <button class="col-sm-1" id="g5" onclick="toggleSwitch('g5')">0</button>
    <button class="col-sm-1" id="g6" onclick="toggleSwitch('g6')">0</button>
    <button class="col-sm-1" id="g7" onclick="toggleSwitch('g7')">0</button>
    <button class="col-sm-1" id="g8" onclick="toggleSwitch('g8')">0</button>

    <div class="col-sm-3">
        <p id="g">Decimal value: 0</p>
    </div>
</div>

<br />

<div class="row">
    <button class="offset-sm-1 col-sm-1" id="b1" onclick="toggleSwitch('b1')">0</button>
    <button class="col-sm-1" id="b2" onclick="toggleSwitch('b2')">0</button>
    <button class="col-sm-1" id="b3" onclick="toggleSwitch('b3')">0</button>
    <button class="col-sm-1" id="b4" onclick="toggleSwitch('b4')">0</button>
    <button class="col-sm-1" id="b5" onclick="toggleSwitch('b5')">0</button>
    <button class="col-sm-1" id="b6" onclick="toggleSwitch('b6')">0</button>
    <button class="col-sm-1" id="b7" onclick="toggleSwitch('b7')">0</button>
    <button class="col-sm-1" id="b8" onclick="toggleSwitch('b8')">0</button>

    <div class="col-sm-3">
        <p id="b">Decimal value: 0</p>
    </div>
</div>

<script>

function toggleSwitch (id) {
    const element = document.getElementById(id);
    if (element.innerHTML == "1") {
        element.innerHTML = "0";
    } else {
        element.innerHTML = "1";
    }
    calculateRow(id.charAt(0));
}

function calculateRow (color) {
    let sum = 0;
    for (var i = 1; i <= 8; i++) {
        let element = document.getElementById(color + i);
        alert(Integer.valueOf(element.innerHTML));
        alert(Math.pow(2, 8 - i) * Integer.valueOf(element.innerHTML));
        sum += Math.pow(2, 8 - i) * Integer.parseInt(element.innerHTML);
    }
    alert(sum);
    document.getElementById(color).innerHTML = "Decimal value: " + sum;
}

</script>
<!-- need 8 bits to make 256-->
{% endblock %}